<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Stairway to Heaven</title>
    <meta name="description" content="">
    <script src="../js/aframe.min.js"></script>
    <script src="../js/aframe-bmfont-text-component.min.js"></script>
    <script>
        AFRAME.registerComponent('floor', {
            init: function() {
                var mesh = this.el.getObject3D('mesh');
                var texloader = new THREE.TextureLoader();
                var tex = texloader.load('../assets/heaven/blue.jpg');
                mesh.material.map = tex;
                mesh.material.map.wrapS = THREE.RepeatWrapping;
                mesh.material.map.wrapT = THREE.RepeatWrapping;
                mesh.material.map.repeat.set(8, 8);
                mesh.geometry.parameters.widthSegments = 20;
                mesh.geometry.parameters.heightSegments = 20;
                mesh.receiveShadow = true;
                mesh.rotation.x = -0.5 * Math.PI;
                console.log(mesh);
                this.el.setObject3D('mesh', mesh);
            }
        });
    </script>
</head>

<body>
    <a-scene fog="type: exponential; color: #AAB; density:0.010">
        <a-entity id="floor-entity" geometry="primitive: plane; width: 1000; height: 1000;" floor></a-entity>
        <a-entity position="0 20 20" rotation="0 0 0 ">
            <a-camera wasd-controls-enabled look-controls-enabled></a-camera>
        </a-entity>
    </a-scene>
</body>

</html>
